<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
    <head>
        <title>Neues Internet</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="author" content="" />
        <meta name="description" content=" " />
        <link rel="stylesheet" href="../../css/html/screen.css" type="text/css" />
    </head>

    <body>

<!--##begin-->
        <div id="substance" class="wizard" style="width:700px;">

            #(inhalt)
            <ul id="sort_content">
                <!--##loop-sort_content-->
                <li id="item_!{key}" class="!{class}">
                    !{value}
                    <p class="clear" !{modify}>
                        <a href="!{link_up}" class="button">UP</a>
                        <a href="!{link_down}" class="button">DOWN</a>
                        <a href="!{delete}" class="button">x</a>
                    </p>
                    <p class="clear" />
                </li>
                <!--##cont-->
            </ul>

            <p style="clear:both;" />
            <fieldset>
            <legend>Bereiche hinzufuegen</legend>
            <!--##loop-add_buttons-->
                <a href="!{link}" class="button">!{item}</a>
            <!--##cont-->
            </fieldset>

            <div id="info_box"></div>
            !#ausgaben_output

            <script type="text/javascript">
                Sortable.create("sort_content",
                    {only: 'ajax_move',
                        onUpdate:function(){
//                             new Ajax.Updater(
//                                 'info_box',
//                                 '!#ausgaben_ajax_request?' + Sortable.serialize("sort_content"),
//                                 {
//                                     onComplete:function(){
//                                         new Effect.Highlight("sort_content",{});
// //                                         alert("Reihenfolge wurde geändert!");
// //                                         location.reload(true);
// //                                         $('info_box').innerHTML = "Reihenfolge wurde ge&auml;ndert!";
//                                     }
//                                 }
//                             );
                            new Ajax.Request(
                                '!#ausgaben_ajax_request?' + Sortable.serialize("sort_content"),
                                {
                                    onComplete:function(){
                                        new Effect.Highlight("sort_content",{});
//                                         alert("Reihenfolge wurde geändert!");
                                        location.reload(true);
//                                         $('info_box').innerHTML = "Reihenfolge wurde ge&auml;ndert!";
                                    }
                                }
                            );
                        }
                    }
                );
            </script>

        </div>
<!--##end-->

    </body>
</html>
